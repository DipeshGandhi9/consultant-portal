<div class="client-container col-12" id="table">
  <!-- header for client -->
  <div class="d-flex justify-content-between align-items-center">
    <h4>{{ "global.clients" | translate }}</h4>
    <div class="filter-add-section">
      <div class="col-md-12">
        <button type="button" pButton class="p-button" (click)="open()">
          Add Client
        </button>
      </div>
    </div>
  </div>
  <!-- end of hedaer -->

  <!-- table for client -->
  <app-table
    [data]="clients"
    [tableHeader]="ClientData.header"
    [tableData]="ClientData"
    (changeDetect)="DetectChange($event)"
  ></app-table>
  <!-- end of table -->

  <!-- Form modal to add patient details-->
  <p-dialog
    header="{{ recordId ? 'Edit Client Details' : 'Add Client Details' }}"
    [modal]="true"
    [(visible)]="detailsDialog"
    [style]="{ width: '50vw' }"
    [baseZIndex]="1"
  >
    <div class="container-sm">
      <form [formGroup]="clientForm">
        <div class="col-md-12">
          <div class="card-body text-black">
            <div class="col mb-4 d-flex justify-content-between">
              <div class="col-6 form-outline width-set">
                <label class="form-label" for="first_name">First Name*</label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  id="name"
                  formControlName="first_name"
                />
              </div>
              <div class="col-6 form-outline width-set">
                <label class="form-label" for="last_name">Last Name*</label>
                <input
                  type="text"
                  class="form-control form-control-lg"
                  id="name"
                  formControlName="last_name"
                />
              </div>
            </div>

            <div
              class="col-md-12 d-flex justify-content-start align-items-center mb-4"
            >
              <h6 class="mb-0">Gender*:</h6>
              <div class="form-check form-check-inline mb-0 d-flex">
                <p-radioButton
                  value="Male"
                  formControlName="gender"
                ></p-radioButton>
                <label class="form-check-label left-align" for="femaleGender"
                  >Male</label
                >
              </div>

              <div class="form-check form-check-inline mb-0 d-flex">
                <p-radioButton
                  value="Female"
                  formControlName="gender"
                ></p-radioButton>
                <label class="form-check-label left-align" for="maleGender"
                  >Female</label
                >
              </div>

              <div class="form-check form-check-inline mb-0 d-flex">
                <p-radioButton
                  value="Other"
                  formControlName="gender"
                ></p-radioButton>
                <label class="form-check-label left-align" for="otherGender"
                  >Other</label
                >
              </div>
            </div>

            <div class="row">
              <div class="col-md-12 mb-4">
                <label class="form-label" for="date_of_birth"
                  >Date Of Birth*</label
                >
                <input
                  id="date_of_birth"
                  type="date"
                  class="form-control form-control-lg"
                  formControlName="date_of_birth"
                />
              </div>
            </div>

            <div class="row">
              <div class="col-md-12 mb-4">
                <label class="form-label" for="birth_time">Birth Time*</label>
                <input
                  id="birth_time"
                  type="time"
                  class="form-control form-control-lg"
                  formControlName="birth_time"
                />
              </div>
            </div>

            <div class="col-md-12 mb-4">
              <label class="form-label" for="birth_place">Birrth Place*</label>
              <div class="form-outline">
                <input
                  type="text"
                  id="birth_place"
                  class="form-control form-control-lg"
                  formControlName="birth_place"
                />
              </div>
            </div>

            <div class="row">
              <div class="col-md-12 mb-4">
                <label class="form-label" for="occupation">Occupation</label>
                <input
                  id="occupation"
                  type="text"
                  class="form-control form-control-lg"
                  formControlName="occupation"
                />
              </div>
            </div>

            <div class="col-md-12 mb-4">
              <label class="form-label" for="address">Address</label>
              <div class="form-outline">
                <input
                  type="text"
                  id="address"
                  class="form-control form-control-lg"
                  formControlName="address"
                />
              </div>
            </div>

            <div class="col-md-12 mb-4">
              <label class="form-label" for="city">City*</label>
              <div class="form-outline">
                <input
                  type="text"
                  id="city"
                  class="form-control form-control-lg"
                  formControlName="city"
                />
              </div>
            </div>

            <div class="col-md-12 mb-4">
              <label class="form-label" for="state">State*</label>
              <div class="form-outline">
                <input
                  type="text"
                  id="state"
                  class="form-control form-control-lg"
                  formControlName="state"
                />
              </div>
            </div>

            <div class="col-md-12 mb-4">
              <label class="form-label" for="country">Country*</label>
              <div class="form-outline">
                <input
                  type="text"
                  id="country"
                  class="form-control form-control-lg"
                  formControlName="country"
                />
              </div>
            </div>

            <div class="form-outline mb-4">
              <label class="form-label" for="email">Email ID</label>
              <input
                type="email"
                id="email"
                class="form-control form-control-lg"
                formControlName="email"
              />
              <p
                *ngIf="
                  clientFormControl?.email?.invalid &&
                  clientFormControl.email.touched
                "
                class="validation-msg"
              >
                Invalid email. Please make sure you type the proper information
              </p>
            </div>

            <div class="form-outline mb-4">
              <label class="form-label" for="phone_number"
                >Contact Number</label
              >
              <div class="input-box">
                <span class="prefix">+91</span>
                <input
                  type="tel"
                  class="form-control form-control-lg"
                  max="10"
                  placeholder="0123456789"
                  formControlName="phone_number"
                />
              </div>
              <p
                *ngIf="clientFormControl?.phone_number?.invalid"
                class="validation-msg"
              >
                Invalid phone number
              </p>
            </div>

            <div class="d-flex justify-content-end pt-3">
              <button
                (click)="resetDetails()"
                pButton
                pRipple
                type="button"
                label="Reset all"
                class="p-button-outlined button p-button-secondary"
              ></button>
              <p-button
                label="{{ recordId ? 'Update Details' : 'Submit Form' }}"
                (onClick)="submitDetails()"
                [disabled]="!clientForm.valid"
              ></p-button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </p-dialog>
  <!-- end of form model -->
</div>
